ylo.tvtheek={inited:!1,init:function(){ylo.tvtheek.inited||($searchForm=$("header .search form"),$.isEmptyObject($searchForm)||$searchForm.submit(function(a){if(""!=$("header .search [name=q]").attr("value")){$prefix=$searchForm.attr("action");null!=$prefix.match("/$")&&($prefix=$prefix.substring(0,$prefix.length-1));var b=purl($prefix+"/q/"+encodeURIComponent($("header .search [name=q]").attr("value"))+(void 0!=ylo.config.tpl.demoTVTheekSubscription?"/demo/"+ylo.config.tpl.demoTVTheekSubscription:
""));window.location=b.attr("relative")}a.preventDefault()}),$("#filterForm").submit(function(a){params=$("#filterForm div.control.checked input");a="";for(i=0;i<params.length;i++)a+=$(params[i]).attr("data-url")+"/";void 0!=ylo.config.tpl.demoTVTheekSubscription&&(a+="demo/"+ylo.config.tpl.demoTVTheekSubscription);a=purl(a);$("#filterForm").attr("action",a.attr("relative"))}),ylo.tvtheek.inited=!0)},load:function(){ylo.bdy.hasClass("tvTheek")&&(ylo.opt.swipelistToCarousel?$('[data-pattern="swipe"]').iACarousel({cssAnimation:ylo.opt.css3TransitionSupport,
speed:1E3,visible:{1200:5,1380:6,1550:7,1610:8}}):$('[data-pattern="swipe"]').each(function(){var a=$(this),b=0;a.find(".main:first").on("scroll",function(d){d=parseInt($(this).scrollLeft()/$(this).width(),10)+1;d>b&&(b=d,a.trigger({type:"next"}))}).css("overflow-x","scroll")}),ylo.tvtheek.init());ylo.tvtheek.initLoadingImages()},initLoadingImages:function(){if(!ylo.bdy.hasClass("demoPage")){ylo.sluggish.init({useCache:!ylo.opt.touch});var a=function(a){return function(){ylo.sluggish.checkCarousel(a)}},
b=function(d){$(d||'[data-pattern="swipe"]').each(function(){var c=Math.ceil(Math.ceil($(this).outerWidth()/$(this).find("article").eq(0).outerWidth())),c=$(this).find("img[data-src]").slice(0,c);window.clearTimeout(window.carSlugTimer);window.carSlugTimer=window.setTimeout(a($(d)),1500);c.length&&$("body").trigger({type:"loadme.sluggish",items:c})})};$('[data-pattern="swipe"]').bind("next",function(a){b(a.target)});$('[data-pattern="swipe"]').bind("next",function(a){a=ylo.opt.touch?$('article[itemscope="itemscope"]',
this):$(".carouselWrapper > article",this);var c=$(this);ajaxGetCarouselItems(c.attr("data-id"),a.length,24,function(a,b){a&&(c.data("plugin_iACarousel")?c.data("plugin_iACarousel").append(b.Items):c.find(".main:first").append(b.Items))})})}}};
